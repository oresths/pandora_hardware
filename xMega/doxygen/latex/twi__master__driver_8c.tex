\hypertarget{twi__master__driver_8c}{\section{drivers/twi\-\_\-master\-\_\-driver.c File Reference}
\label{twi__master__driver_8c}\index{drivers/twi\-\_\-master\-\_\-driver.\-c@{drivers/twi\-\_\-master\-\_\-driver.\-c}}
}


X\-M\-E\-G\-A T\-W\-I master driver source file.  


{\ttfamily \#include \char`\"{}twi\-\_\-master\-\_\-driver.\-h\char`\"{}}\\*
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{twi__master__driver_8c_ab1277cf32fec820fe46a459bf909cc92}{T\-W\-I\-\_\-\-Master\-Init} (\hyperlink{twi__master__driver_8h_a88e46d8238f0b96a4de3bb400e96a844}{T\-W\-I\-\_\-\-Master\-\_\-t} $\ast$twi, T\-W\-I\-\_\-t $\ast$module, T\-W\-I\-\_\-\-M\-A\-S\-T\-E\-R\-\_\-\-I\-N\-T\-L\-V\-L\-\_\-t int\-Level, uint8\-\_\-t baud\-Rate\-Register\-Setting)
\begin{DoxyCompactList}\small\item\em Initialize the T\-W\-I module. \end{DoxyCompactList}\item 
T\-W\-I\-\_\-\-M\-A\-S\-T\-E\-R\-\_\-\-B\-U\-S\-S\-T\-A\-T\-E\-\_\-t \hyperlink{twi__master__driver_8c_aec753859fbbc34f35244277bd88de6d0}{T\-W\-I\-\_\-\-Master\-State} (\hyperlink{twi__master__driver_8h_a88e46d8238f0b96a4de3bb400e96a844}{T\-W\-I\-\_\-\-Master\-\_\-t} $\ast$twi)
\begin{DoxyCompactList}\small\item\em Returns the T\-W\-I bus state. \end{DoxyCompactList}\item 
bool \hyperlink{twi__master__driver_8c_a64dec9dbaa07859ce1c3085a3fc24fd0}{T\-W\-I\-\_\-\-Master\-Ready} (\hyperlink{twi__master__driver_8h_a88e46d8238f0b96a4de3bb400e96a844}{T\-W\-I\-\_\-\-Master\-\_\-t} $\ast$twi)
\begin{DoxyCompactList}\small\item\em Returns true if transaction is ready. \end{DoxyCompactList}\item 
bool \hyperlink{twi__master__driver_8c_a001c21c56cc19376694103178b0d3f6e}{T\-W\-I\-\_\-\-Master\-Write} (\hyperlink{twi__master__driver_8h_a88e46d8238f0b96a4de3bb400e96a844}{T\-W\-I\-\_\-\-Master\-\_\-t} $\ast$twi, uint8\-\_\-t address, uint8\-\_\-t $\ast$write\-Data, uint8\-\_\-t bytes\-To\-Write)
\begin{DoxyCompactList}\small\item\em T\-W\-I write transaction. \end{DoxyCompactList}\item 
bool \hyperlink{twi__master__driver_8c_a952b2172a756ffd2a7d128e09d02077a}{T\-W\-I\-\_\-\-Master\-Read} (\hyperlink{twi__master__driver_8h_a88e46d8238f0b96a4de3bb400e96a844}{T\-W\-I\-\_\-\-Master\-\_\-t} $\ast$twi, uint8\-\_\-t address, uint8\-\_\-t bytes\-To\-Read)
\begin{DoxyCompactList}\small\item\em T\-W\-I read transaction. \end{DoxyCompactList}\item 
bool \hyperlink{twi__master__driver_8c_ae2df1a753496e0f05e4488a174b77598}{T\-W\-I\-\_\-\-Master\-Write\-Read} (\hyperlink{twi__master__driver_8h_a88e46d8238f0b96a4de3bb400e96a844}{T\-W\-I\-\_\-\-Master\-\_\-t} $\ast$twi, uint8\-\_\-t address, uint8\-\_\-t $\ast$write\-Data, uint8\-\_\-t bytes\-To\-Write, uint8\-\_\-t bytes\-To\-Read)
\begin{DoxyCompactList}\small\item\em T\-W\-I write and/or read transaction. \end{DoxyCompactList}\item 
void \hyperlink{twi__master__driver_8c_a40cfd4c598eea01787e882103aec2c31}{T\-W\-I\-\_\-\-Master\-Interrupt\-Handler} (\hyperlink{twi__master__driver_8h_a88e46d8238f0b96a4de3bb400e96a844}{T\-W\-I\-\_\-\-Master\-\_\-t} $\ast$twi)
\begin{DoxyCompactList}\small\item\em Common T\-W\-I master interrupt service routine. \end{DoxyCompactList}\item 
void \hyperlink{twi__master__driver_8c_a6caacb51c49b3ed35facbfc96c273bfa}{T\-W\-I\-\_\-\-Master\-Arbitration\-Lost\-Bus\-Error\-Handler} (\hyperlink{twi__master__driver_8h_a88e46d8238f0b96a4de3bb400e96a844}{T\-W\-I\-\_\-\-Master\-\_\-t} $\ast$twi)
\begin{DoxyCompactList}\small\item\em T\-W\-I master arbitration lost and bus error interrupt handler. \end{DoxyCompactList}\item 
void \hyperlink{twi__master__driver_8c_a54f64ace29879153f809a8f7179e638f}{T\-W\-I\-\_\-\-Master\-Write\-Handler} (\hyperlink{twi__master__driver_8h_a88e46d8238f0b96a4de3bb400e96a844}{T\-W\-I\-\_\-\-Master\-\_\-t} $\ast$twi)
\begin{DoxyCompactList}\small\item\em T\-W\-I master write interrupt handler. \end{DoxyCompactList}\item 
void \hyperlink{twi__master__driver_8c_a0e30fdc903a8a0a0236db3932be9410c}{T\-W\-I\-\_\-\-Master\-Read\-Handler} (\hyperlink{twi__master__driver_8h_a88e46d8238f0b96a4de3bb400e96a844}{T\-W\-I\-\_\-\-Master\-\_\-t} $\ast$twi)
\begin{DoxyCompactList}\small\item\em T\-W\-I master read interrupt handler. \end{DoxyCompactList}\item 
void \hyperlink{twi__master__driver_8c_a3d02fc8e54cb69ea83cc557937cc4fec}{T\-W\-I\-\_\-\-Master\-Transaction\-Finished} (\hyperlink{twi__master__driver_8h_a88e46d8238f0b96a4de3bb400e96a844}{T\-W\-I\-\_\-\-Master\-\_\-t} $\ast$twi, uint8\-\_\-t result)
\begin{DoxyCompactList}\small\item\em T\-W\-I transaction finished handler. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
X\-M\-E\-G\-A T\-W\-I master driver source file. \begin{DoxyVerb} This file contains the function implementations the XMEGA master TWI
 driver.

 The driver is not intended for size and/or speed critical code, since
 most functions are just a few lines of code, and the function call
 overhead would decrease code performance. The driver is intended for
 rapid prototyping and documentation purposes for getting started with
 the XMEGA TWI master module.

 For size and/or speed critical code, it is recommended to copy the
 function contents directly into your application instead of making
 a function call.

 Several functions use the following construct:
     "some_register = ... | (some_parameter ? SOME_BIT_bm : 0) | ..."
 Although the use of the ternary operator ( if ? then : else ) is
 discouraged, in some occasions the operator makes it possible to write
 pretty clean and neat code. In this driver, the construct is used to
 set or not set a configuration bit based on a boolean input parameter,
 such as the "some_parameter" in the example above.
\end{DoxyVerb}


\begin{DoxyParagraph}{Application note\-:}
A\-V\-R1308\-: Using the X\-M\-E\-G\-A T\-W\-I
\end{DoxyParagraph}
\begin{DoxyParagraph}{Documentation}
For comprehensive code documentation, supported compilers, compiler settings and supported devices see readme.\-html
\end{DoxyParagraph}
\begin{DoxyAuthor}{Author}
Atmel Corporation\-: \href{http://www.atmel.com}{\tt http\-://www.\-atmel.\-com} \par
 Support email\-: \href{mailto:avr@atmel.com}{\tt avr@atmel.\-com}
\end{DoxyAuthor}
\begin{DoxyParagraph}{Revision\-:}
1569 
\end{DoxyParagraph}
\begin{DoxyParagraph}{Date\-:}
2008-\/04-\/22 13\-:03\-:43 +0200 (ti, 22 apr 2008) 
\end{DoxyParagraph}
\par


Copyright (c) 2008, Atmel Corporation All rights reserved.

Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met\-:


\begin{DoxyEnumerate}
\item Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
\end{DoxyEnumerate}


\begin{DoxyEnumerate}
\item Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
\end{DoxyEnumerate}


\begin{DoxyEnumerate}
\item The name of A\-T\-M\-E\-L may not be used to endorse or promote products derived from this software without specific prior written permission.
\end{DoxyEnumerate}

T\-H\-I\-S S\-O\-F\-T\-W\-A\-R\-E I\-S P\-R\-O\-V\-I\-D\-E\-D B\-Y A\-T\-M\-E\-L \char`\"{}\-A\-S I\-S\char`\"{} A\-N\-D A\-N\-Y E\-X\-P\-R\-E\-S\-S O\-R I\-M\-P\-L\-I\-E\-D W\-A\-R\-R\-A\-N\-T\-I\-E\-S, I\-N\-C\-L\-U\-D\-I\-N\-G, B\-U\-T N\-O\-T L\-I\-M\-I\-T\-E\-D T\-O, T\-H\-E I\-M\-P\-L\-I\-E\-D W\-A\-R\-R\-A\-N\-T\-I\-E\-S O\-F M\-E\-R\-C\-H\-A\-N\-T\-A\-B\-I\-L\-I\-T\-Y A\-N\-D F\-I\-T\-N\-E\-S\-S F\-O\-R A P\-A\-R\-T\-I\-C\-U\-L\-A\-R P\-U\-R\-P\-O\-S\-E A\-R\-E E\-X\-P\-R\-E\-S\-S\-L\-Y A\-N\-D S\-P\-E\-C\-I\-F\-I\-C\-A\-L\-L\-Y D\-I\-S\-C\-L\-A\-I\-M\-E\-D. I\-N N\-O E\-V\-E\-N\-T S\-H\-A\-L\-L A\-T\-M\-E\-L B\-E L\-I\-A\-B\-L\-E F\-O\-R A\-N\-Y D\-I\-R\-E\-C\-T, I\-N\-D\-I\-R\-E\-C\-T, I\-N\-C\-I\-D\-E\-N\-T\-A\-L, S\-P\-E\-C\-I\-A\-L, E\-X\-E\-M\-P\-L\-A\-R\-Y, O\-R C\-O\-N\-S\-E\-Q\-U\-E\-N\-T\-I\-A\-L D\-A\-M\-A\-G\-E\-S (I\-N\-C\-L\-U\-D\-I\-N\-G, B\-U\-T N\-O\-T L\-I\-M\-I\-T\-E\-D T\-O, P\-R\-O\-C\-U\-R\-E\-M\-E\-N\-T O\-F S\-U\-B\-S\-T\-I\-T\-U\-T\-E G\-O\-O\-D\-S O\-R S\-E\-R\-V\-I\-C\-E\-S; L\-O\-S\-S O\-F U\-S\-E, D\-A\-T\-A, O\-R P\-R\-O\-F\-I\-T\-S; O\-R B\-U\-S\-I\-N\-E\-S\-S I\-N\-T\-E\-R\-R\-U\-P\-T\-I\-O\-N) H\-O\-W\-E\-V\-E\-R C\-A\-U\-S\-E\-D A\-N\-D O\-N A\-N\-Y T\-H\-E\-O\-R\-Y O\-F L\-I\-A\-B\-I\-L\-I\-T\-Y, W\-H\-E\-T\-H\-E\-R I\-N C\-O\-N\-T\-R\-A\-C\-T, S\-T\-R\-I\-C\-T L\-I\-A\-B\-I\-L\-I\-T\-Y, O\-R T\-O\-R\-T (I\-N\-C\-L\-U\-D\-I\-N\-G N\-E\-G\-L\-I\-G\-E\-N\-C\-E O\-R O\-T\-H\-E\-R\-W\-I\-S\-E) A\-R\-I\-S\-I\-N\-G I\-N A\-N\-Y W\-A\-Y O\-U\-T O\-F T\-H\-E U\-S\-E O\-F T\-H\-I\-S S\-O\-F\-T\-W\-A\-R\-E, E\-V\-E\-N I\-F A\-D\-V\-I\-S\-E\-D O\-F T\-H\-E P\-O\-S\-S\-I\-B\-I\-L\-I\-T\-Y O\-F S\-U\-C\-H D\-A\-M\-A\-G\-E. 

\subsection{Function Documentation}
\hypertarget{twi__master__driver_8c_a6caacb51c49b3ed35facbfc96c273bfa}{\index{twi\-\_\-master\-\_\-driver.\-c@{twi\-\_\-master\-\_\-driver.\-c}!T\-W\-I\-\_\-\-Master\-Arbitration\-Lost\-Bus\-Error\-Handler@{T\-W\-I\-\_\-\-Master\-Arbitration\-Lost\-Bus\-Error\-Handler}}
\index{T\-W\-I\-\_\-\-Master\-Arbitration\-Lost\-Bus\-Error\-Handler@{T\-W\-I\-\_\-\-Master\-Arbitration\-Lost\-Bus\-Error\-Handler}!twi_master_driver.c@{twi\-\_\-master\-\_\-driver.\-c}}
\subsubsection[{T\-W\-I\-\_\-\-Master\-Arbitration\-Lost\-Bus\-Error\-Handler}]{\setlength{\rightskip}{0pt plus 5cm}void T\-W\-I\-\_\-\-Master\-Arbitration\-Lost\-Bus\-Error\-Handler (
\begin{DoxyParamCaption}
\item[{{\bf T\-W\-I\-\_\-\-Master\-\_\-t} $\ast$}]{twi}
\end{DoxyParamCaption}
)}}\label{twi__master__driver_8c_a6caacb51c49b3ed35facbfc96c273bfa}


T\-W\-I master arbitration lost and bus error interrupt handler. 

Handles T\-W\-I responses to lost arbitration and bus error.


\begin{DoxyParams}{Parameters}
{\em twi} & The T\-W\-I\-\_\-\-Master\-\_\-t struct instance. \\
\hline
\end{DoxyParams}
\hypertarget{twi__master__driver_8c_ab1277cf32fec820fe46a459bf909cc92}{\index{twi\-\_\-master\-\_\-driver.\-c@{twi\-\_\-master\-\_\-driver.\-c}!T\-W\-I\-\_\-\-Master\-Init@{T\-W\-I\-\_\-\-Master\-Init}}
\index{T\-W\-I\-\_\-\-Master\-Init@{T\-W\-I\-\_\-\-Master\-Init}!twi_master_driver.c@{twi\-\_\-master\-\_\-driver.\-c}}
\subsubsection[{T\-W\-I\-\_\-\-Master\-Init}]{\setlength{\rightskip}{0pt plus 5cm}void T\-W\-I\-\_\-\-Master\-Init (
\begin{DoxyParamCaption}
\item[{{\bf T\-W\-I\-\_\-\-Master\-\_\-t} $\ast$}]{twi, }
\item[{T\-W\-I\-\_\-t $\ast$}]{module, }
\item[{T\-W\-I\-\_\-\-M\-A\-S\-T\-E\-R\-\_\-\-I\-N\-T\-L\-V\-L\-\_\-t}]{int\-Level, }
\item[{uint8\-\_\-t}]{baud\-Rate\-Register\-Setting}
\end{DoxyParamCaption}
)}}\label{twi__master__driver_8c_ab1277cf32fec820fe46a459bf909cc92}


Initialize the T\-W\-I module. 

T\-W\-I module initialization function. Enables master read and write interrupts. Remember to enable interrupts globally from the main application.


\begin{DoxyParams}{Parameters}
{\em twi} & The T\-W\-I\-\_\-\-Master\-\_\-t struct instance. \\
\hline
{\em module} & The T\-W\-I module to use. \\
\hline
{\em int\-Level} & Master interrupt level. \\
\hline
{\em baud\-Rate\-Register\-Setting} & The baud rate register value. \\
\hline
\end{DoxyParams}
\hypertarget{twi__master__driver_8c_a40cfd4c598eea01787e882103aec2c31}{\index{twi\-\_\-master\-\_\-driver.\-c@{twi\-\_\-master\-\_\-driver.\-c}!T\-W\-I\-\_\-\-Master\-Interrupt\-Handler@{T\-W\-I\-\_\-\-Master\-Interrupt\-Handler}}
\index{T\-W\-I\-\_\-\-Master\-Interrupt\-Handler@{T\-W\-I\-\_\-\-Master\-Interrupt\-Handler}!twi_master_driver.c@{twi\-\_\-master\-\_\-driver.\-c}}
\subsubsection[{T\-W\-I\-\_\-\-Master\-Interrupt\-Handler}]{\setlength{\rightskip}{0pt plus 5cm}void T\-W\-I\-\_\-\-Master\-Interrupt\-Handler (
\begin{DoxyParamCaption}
\item[{{\bf T\-W\-I\-\_\-\-Master\-\_\-t} $\ast$}]{twi}
\end{DoxyParamCaption}
)}}\label{twi__master__driver_8c_a40cfd4c598eea01787e882103aec2c31}


Common T\-W\-I master interrupt service routine. 

Check current status and calls the appropriate handler.


\begin{DoxyParams}{Parameters}
{\em twi} & The T\-W\-I\-\_\-\-Master\-\_\-t struct instance. \\
\hline
\end{DoxyParams}
\hypertarget{twi__master__driver_8c_a952b2172a756ffd2a7d128e09d02077a}{\index{twi\-\_\-master\-\_\-driver.\-c@{twi\-\_\-master\-\_\-driver.\-c}!T\-W\-I\-\_\-\-Master\-Read@{T\-W\-I\-\_\-\-Master\-Read}}
\index{T\-W\-I\-\_\-\-Master\-Read@{T\-W\-I\-\_\-\-Master\-Read}!twi_master_driver.c@{twi\-\_\-master\-\_\-driver.\-c}}
\subsubsection[{T\-W\-I\-\_\-\-Master\-Read}]{\setlength{\rightskip}{0pt plus 5cm}bool T\-W\-I\-\_\-\-Master\-Read (
\begin{DoxyParamCaption}
\item[{{\bf T\-W\-I\-\_\-\-Master\-\_\-t} $\ast$}]{twi, }
\item[{uint8\-\_\-t}]{address, }
\item[{uint8\-\_\-t}]{bytes\-To\-Read}
\end{DoxyParamCaption}
)}}\label{twi__master__driver_8c_a952b2172a756ffd2a7d128e09d02077a}


T\-W\-I read transaction. 

This function is a T\-W\-I Maste wrapper for read-\/only transaction.


\begin{DoxyParams}{Parameters}
{\em twi} & The T\-W\-I\-\_\-\-Master\-\_\-t struct instance. \\
\hline
{\em address} & The slave address. \\
\hline
{\em bytes\-To\-Read} & The number of bytes to read.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em true} & If transaction could be started. \\
\hline
{\em false} & If transaction could not be started. \\
\hline
\end{DoxyRetVals}
\hypertarget{twi__master__driver_8c_a0e30fdc903a8a0a0236db3932be9410c}{\index{twi\-\_\-master\-\_\-driver.\-c@{twi\-\_\-master\-\_\-driver.\-c}!T\-W\-I\-\_\-\-Master\-Read\-Handler@{T\-W\-I\-\_\-\-Master\-Read\-Handler}}
\index{T\-W\-I\-\_\-\-Master\-Read\-Handler@{T\-W\-I\-\_\-\-Master\-Read\-Handler}!twi_master_driver.c@{twi\-\_\-master\-\_\-driver.\-c}}
\subsubsection[{T\-W\-I\-\_\-\-Master\-Read\-Handler}]{\setlength{\rightskip}{0pt plus 5cm}void T\-W\-I\-\_\-\-Master\-Read\-Handler (
\begin{DoxyParamCaption}
\item[{{\bf T\-W\-I\-\_\-\-Master\-\_\-t} $\ast$}]{twi}
\end{DoxyParamCaption}
)}}\label{twi__master__driver_8c_a0e30fdc903a8a0a0236db3932be9410c}


T\-W\-I master read interrupt handler. 

This is the master read interrupt handler that takes care of reading bytes from the T\-W\-I slave.


\begin{DoxyParams}{Parameters}
{\em twi} & The T\-W\-I\-\_\-\-Master\-\_\-t struct instance. \\
\hline
\end{DoxyParams}
\hypertarget{twi__master__driver_8c_a64dec9dbaa07859ce1c3085a3fc24fd0}{\index{twi\-\_\-master\-\_\-driver.\-c@{twi\-\_\-master\-\_\-driver.\-c}!T\-W\-I\-\_\-\-Master\-Ready@{T\-W\-I\-\_\-\-Master\-Ready}}
\index{T\-W\-I\-\_\-\-Master\-Ready@{T\-W\-I\-\_\-\-Master\-Ready}!twi_master_driver.c@{twi\-\_\-master\-\_\-driver.\-c}}
\subsubsection[{T\-W\-I\-\_\-\-Master\-Ready}]{\setlength{\rightskip}{0pt plus 5cm}bool T\-W\-I\-\_\-\-Master\-Ready (
\begin{DoxyParamCaption}
\item[{{\bf T\-W\-I\-\_\-\-Master\-\_\-t} $\ast$}]{twi}
\end{DoxyParamCaption}
)}}\label{twi__master__driver_8c_a64dec9dbaa07859ce1c3085a3fc24fd0}


Returns true if transaction is ready. 

This function returns a boolean whether the T\-W\-I Master is ready for a new transaction.


\begin{DoxyParams}{Parameters}
{\em twi} & The T\-W\-I\-\_\-\-Master\-\_\-t struct instance.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em true} & If transaction could be started. \\
\hline
{\em false} & If transaction could not be started. \\
\hline
\end{DoxyRetVals}
\hypertarget{twi__master__driver_8c_aec753859fbbc34f35244277bd88de6d0}{\index{twi\-\_\-master\-\_\-driver.\-c@{twi\-\_\-master\-\_\-driver.\-c}!T\-W\-I\-\_\-\-Master\-State@{T\-W\-I\-\_\-\-Master\-State}}
\index{T\-W\-I\-\_\-\-Master\-State@{T\-W\-I\-\_\-\-Master\-State}!twi_master_driver.c@{twi\-\_\-master\-\_\-driver.\-c}}
\subsubsection[{T\-W\-I\-\_\-\-Master\-State}]{\setlength{\rightskip}{0pt plus 5cm}T\-W\-I\-\_\-\-M\-A\-S\-T\-E\-R\-\_\-\-B\-U\-S\-S\-T\-A\-T\-E\-\_\-t T\-W\-I\-\_\-\-Master\-State (
\begin{DoxyParamCaption}
\item[{{\bf T\-W\-I\-\_\-\-Master\-\_\-t} $\ast$}]{twi}
\end{DoxyParamCaption}
)}}\label{twi__master__driver_8c_aec753859fbbc34f35244277bd88de6d0}


Returns the T\-W\-I bus state. 

Returns the T\-W\-I bus state (type defined in device headerfile), unknown, idle, owner or busy.


\begin{DoxyParams}{Parameters}
{\em twi} & The T\-W\-I\-\_\-\-Master\-\_\-t struct instance.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em T\-W\-I\-\_\-\-M\-A\-S\-T\-E\-R\-\_\-\-B\-U\-S\-S\-T\-A\-T\-E\-\_\-\-U\-N\-K\-N\-O\-W\-N\-\_\-gc} & Bus state is unknown. \\
\hline
{\em T\-W\-I\-\_\-\-M\-A\-S\-T\-E\-R\-\_\-\-B\-U\-S\-S\-T\-A\-T\-E\-\_\-\-I\-D\-L\-E\-\_\-gc} & Bus state is idle. \\
\hline
{\em T\-W\-I\-\_\-\-M\-A\-S\-T\-E\-R\-\_\-\-B\-U\-S\-S\-T\-A\-T\-E\-\_\-\-O\-W\-N\-E\-R\-\_\-gc} & Bus state is owned by the master. \\
\hline
{\em T\-W\-I\-\_\-\-M\-A\-S\-T\-E\-R\-\_\-\-B\-U\-S\-S\-T\-A\-T\-E\-\_\-\-B\-U\-S\-Y\-\_\-gc} & Bus state is busy. \\
\hline
\end{DoxyRetVals}
\hypertarget{twi__master__driver_8c_a3d02fc8e54cb69ea83cc557937cc4fec}{\index{twi\-\_\-master\-\_\-driver.\-c@{twi\-\_\-master\-\_\-driver.\-c}!T\-W\-I\-\_\-\-Master\-Transaction\-Finished@{T\-W\-I\-\_\-\-Master\-Transaction\-Finished}}
\index{T\-W\-I\-\_\-\-Master\-Transaction\-Finished@{T\-W\-I\-\_\-\-Master\-Transaction\-Finished}!twi_master_driver.c@{twi\-\_\-master\-\_\-driver.\-c}}
\subsubsection[{T\-W\-I\-\_\-\-Master\-Transaction\-Finished}]{\setlength{\rightskip}{0pt plus 5cm}void T\-W\-I\-\_\-\-Master\-Transaction\-Finished (
\begin{DoxyParamCaption}
\item[{{\bf T\-W\-I\-\_\-\-Master\-\_\-t} $\ast$}]{twi, }
\item[{uint8\-\_\-t}]{result}
\end{DoxyParamCaption}
)}}\label{twi__master__driver_8c_a3d02fc8e54cb69ea83cc557937cc4fec}


T\-W\-I transaction finished handler. 

Prepares module for new transaction.


\begin{DoxyParams}{Parameters}
{\em twi} & The T\-W\-I\-\_\-\-Master\-\_\-t struct instance. \\
\hline
{\em result} & The result of the operation. \\
\hline
\end{DoxyParams}
\hypertarget{twi__master__driver_8c_a001c21c56cc19376694103178b0d3f6e}{\index{twi\-\_\-master\-\_\-driver.\-c@{twi\-\_\-master\-\_\-driver.\-c}!T\-W\-I\-\_\-\-Master\-Write@{T\-W\-I\-\_\-\-Master\-Write}}
\index{T\-W\-I\-\_\-\-Master\-Write@{T\-W\-I\-\_\-\-Master\-Write}!twi_master_driver.c@{twi\-\_\-master\-\_\-driver.\-c}}
\subsubsection[{T\-W\-I\-\_\-\-Master\-Write}]{\setlength{\rightskip}{0pt plus 5cm}bool T\-W\-I\-\_\-\-Master\-Write (
\begin{DoxyParamCaption}
\item[{{\bf T\-W\-I\-\_\-\-Master\-\_\-t} $\ast$}]{twi, }
\item[{uint8\-\_\-t}]{address, }
\item[{uint8\-\_\-t $\ast$}]{write\-Data, }
\item[{uint8\-\_\-t}]{bytes\-To\-Write}
\end{DoxyParamCaption}
)}}\label{twi__master__driver_8c_a001c21c56cc19376694103178b0d3f6e}


T\-W\-I write transaction. 

This function is T\-W\-I Master wrapper for a write-\/only transaction.


\begin{DoxyParams}{Parameters}
{\em twi} & The T\-W\-I\-\_\-\-Master\-\_\-t struct instance. \\
\hline
{\em address} & Slave address. \\
\hline
{\em write\-Data} & Pointer to data to write. \\
\hline
{\em bytes\-To\-Write} & Number of data bytes to write.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em true} & If transaction could be started. \\
\hline
{\em false} & If transaction could not be started. \\
\hline
\end{DoxyRetVals}
\hypertarget{twi__master__driver_8c_a54f64ace29879153f809a8f7179e638f}{\index{twi\-\_\-master\-\_\-driver.\-c@{twi\-\_\-master\-\_\-driver.\-c}!T\-W\-I\-\_\-\-Master\-Write\-Handler@{T\-W\-I\-\_\-\-Master\-Write\-Handler}}
\index{T\-W\-I\-\_\-\-Master\-Write\-Handler@{T\-W\-I\-\_\-\-Master\-Write\-Handler}!twi_master_driver.c@{twi\-\_\-master\-\_\-driver.\-c}}
\subsubsection[{T\-W\-I\-\_\-\-Master\-Write\-Handler}]{\setlength{\rightskip}{0pt plus 5cm}void T\-W\-I\-\_\-\-Master\-Write\-Handler (
\begin{DoxyParamCaption}
\item[{{\bf T\-W\-I\-\_\-\-Master\-\_\-t} $\ast$}]{twi}
\end{DoxyParamCaption}
)}}\label{twi__master__driver_8c_a54f64ace29879153f809a8f7179e638f}


T\-W\-I master write interrupt handler. 

Handles T\-W\-I transactions (master write) and responses to (N)A\-C\-K.


\begin{DoxyParams}{Parameters}
{\em twi} & The T\-W\-I\-\_\-\-Master\-\_\-t struct instance. \\
\hline
\end{DoxyParams}
\hypertarget{twi__master__driver_8c_ae2df1a753496e0f05e4488a174b77598}{\index{twi\-\_\-master\-\_\-driver.\-c@{twi\-\_\-master\-\_\-driver.\-c}!T\-W\-I\-\_\-\-Master\-Write\-Read@{T\-W\-I\-\_\-\-Master\-Write\-Read}}
\index{T\-W\-I\-\_\-\-Master\-Write\-Read@{T\-W\-I\-\_\-\-Master\-Write\-Read}!twi_master_driver.c@{twi\-\_\-master\-\_\-driver.\-c}}
\subsubsection[{T\-W\-I\-\_\-\-Master\-Write\-Read}]{\setlength{\rightskip}{0pt plus 5cm}bool T\-W\-I\-\_\-\-Master\-Write\-Read (
\begin{DoxyParamCaption}
\item[{{\bf T\-W\-I\-\_\-\-Master\-\_\-t} $\ast$}]{twi, }
\item[{uint8\-\_\-t}]{address, }
\item[{uint8\-\_\-t $\ast$}]{write\-Data, }
\item[{uint8\-\_\-t}]{bytes\-To\-Write, }
\item[{uint8\-\_\-t}]{bytes\-To\-Read}
\end{DoxyParamCaption}
)}}\label{twi__master__driver_8c_ae2df1a753496e0f05e4488a174b77598}


T\-W\-I write and/or read transaction. 

This function is a T\-W\-I Master write and/or read transaction. The function can be used to both write and/or read bytes to/from the T\-W\-I Slave in one transaction.


\begin{DoxyParams}{Parameters}
{\em twi} & The T\-W\-I\-\_\-\-Master\-\_\-t struct instance. \\
\hline
{\em address} & The slave address. \\
\hline
{\em write\-Data} & Pointer to data to write. \\
\hline
{\em bytes\-To\-Write} & Number of bytes to write. \\
\hline
{\em bytes\-To\-Read} & Number of bytes to read.\\
\hline
\end{DoxyParams}

\begin{DoxyRetVals}{Return values}
{\em true} & If transaction could be started. \\
\hline
{\em false} & If transaction could not be started. \\
\hline
\end{DoxyRetVals}
